<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_script">
    <sys_script action="INSERT_OR_UPDATE">
        <abort_action>false</abort_action>
        <access>package_private</access>
        <action_delete>false</action_delete>
        <action_insert>true</action_insert>
        <action_query>false</action_query>
        <action_update>true</action_update>
        <active>true</active>
        <add_message>false</add_message>
        <advanced>true</advanced>
        <change_fields>false</change_fields>
        <client_callable>false</client_callable>
        <collection>asmt_metric_type</collection>
        <condition/>
        <description>When we update assessor's user field for assessment type, we need to automatically add users to corresponding metric category and assessable records. The prerequisite to run this business rule is that it is schedule type and should have already set up metric category and generated assessable records for assessment.</description>
        <execute_function>false</execute_function>
        <filter_condition table="asmt_metric_type">schedule_type=scheduled^evaluation_method=assessment^user_fieldISNOTEMPTY^user_fieldVALCHANGES^publish_state=published^EQ<item display_value="Scheduled" endquery="false" field="schedule_type" goto="false" newquery="false" operator="=" or="false" value="scheduled"/>
            <item display_value="Assessment" endquery="false" field="evaluation_method" goto="false" newquery="false" operator="=" or="false" value="assessment"/>
            <item endquery="false" field="user_field" goto="false" newquery="false" operator="ISNOTEMPTY" or="false" value=""/>
            <item endquery="false" field="user_field" goto="false" newquery="false" operator="VALCHANGES" or="false" value=""/>
            <item display_value="Published" endquery="false" field="publish_state" goto="false" newquery="false" operator="=" or="false" value="published"/>
            <item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/>
        </filter_condition>
        <is_rest>false</is_rest>
        <message/>
        <name>Auto sync user for assble record and cat</name>
        <order>200</order>
        <priority>100</priority>
        <rest_method/>
        <rest_method_text/>
        <rest_service/>
        <rest_service_text/>
        <rest_variables/>
        <role_conditions/>
        <script><![CDATA[(function executeRule(current, previous /*null when async*/) {
	var asmtUtil = new global.AssessmentUtils();
	asmtUtil.updateCategoryUsers(current, previous);
})(current, previous);]]></script>
        <sys_class_name>sys_script</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2019-01-15 00:16:15</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_domain_path/>
        <sys_id>1cce33bc870323004caf66d107cb0b3a</sys_id>
        <sys_mod_count>54</sys_mod_count>
        <sys_name>Auto sync user for assble record and cat</sys_name>
        <sys_overrides/>
        <sys_package display_value="Assessment" source="com.snc.assessment_core">3ba3d37cd08322105590fd9a5a77e736</sys_package>
        <sys_policy/>
        <sys_scope display_value="Global Customizations - Upgrade Plan">f90ff3ea47ecb2105dc6f19f016d43cb</sys_scope>
        <sys_update_name>sys_script_1cce33bc870323004caf66d107cb0b3a</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-10-16 02:31:41</sys_updated_on>
        <template/>
        <when>before</when>
    </sys_script>
    <sys_translated_text action="delete_multiple" query="documentkey=1cce33bc870323004caf66d107cb0b3a"/>
    <sys_claim action="INSERT_OR_UPDATE">
        <claim_owner_scope display_value="Global Customizations - Upgrade Plan">f90ff3ea47ecb2105dc6f19f016d43cb</claim_owner_scope>
        <claim_timestamp>199eadbdb930000002</claim_timestamp>
        <metadata_update_name>sys_script_1cce33bc870323004caf66d107cb0b3a</metadata_update_name>
        <previous_claim_app_version>1.0.0</previous_claim_app_version>
        <previous_claim_name>Global Customizations - Upgrade Plan</previous_claim_name>
        <previous_claim_scope>f90ff3ea47ecb2105dc6f19f016d43cb</previous_claim_scope>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-10-16 02:31:41</sys_created_on>
        <sys_id>d70fb7ea47ecb2105dc6f19f016d4325</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-10-16 02:31:41</sys_updated_on>
    </sys_claim>
    <sys_claim action="INSERT_OR_UPDATE">
        <claim_owner_scope display_value="Global Customizations - Upgrade Plan">f90ff3ea47ecb2105dc6f19f016d43cb</claim_owner_scope>
        <claim_timestamp>199eadbdb930000001</claim_timestamp>
        <metadata_update_name>sys_script_1cce33bc870323004caf66d107cb0b3a</metadata_update_name>
        <previous_claim_app_version/>
        <previous_claim_name>com.snc.assessment_core</previous_claim_name>
        <previous_claim_scope>com.snc.assessment_core</previous_claim_scope>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2025-10-16 02:31:41</sys_created_on>
        <sys_id>9f0fb7ea47ecb2105dc6f19f016d4325</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2025-10-16 02:31:41</sys_updated_on>
    </sys_claim>
</record_update>
